group 'spring-framework'
version '1.0-SNAPSHOT'

repositories {
    jcenter()//三别名之一：表示依赖是从Bintary’s JCenter Maven 仓库中获取的
    maven {
        url "https://plugins.gradle.org/m2/"
    }
}


// 通过名称指定Gradle插件
apply plugin: "java"  //添加使用java插件
apply plugin: "groovy"
apply plugin: "war"
apply plugin: "idea"
apply plugin: "eclipse"
apply plugin: "maven" //使用maven作为jar包的信赖管理


war {
    baseName = "spring-framework"
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile('org.codehaus.groovy:groovy-all:2.3.11')
    compile('org.springframework:spring-context:4.2.4.RELEASE')
    compile('log4j:log4j:1.2.17')

    runtime("org.flywaydb:flyway-core")
    runtime("com.h2database:h2")
    runtime("mysql:mysql-connector-java")

    testCompile('junit:junit:4.12')
}

// configure idea output dir same with gradle so that spring loader could work correctly
idea {
    module {
        inheritOutputDirs = false
        outputDir = file("$buildDir/classes/main/")
    }
}
